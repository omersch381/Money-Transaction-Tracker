{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"/home/omer/Desktop/final_project/Money-Transaction-Tracker/src/ethereum/App.js\";\nimport React, { Component } from \"react\";\nimport \"./App.css\";\nimport web3 from \"./web3\";\nimport profileAbi from \"./profile\";\nconst address = \"0x42F443c1bb0F7386870E736193e8cdB5b5fA1a4D\";\nconst profile = new web3.eth.Contract(profileAbi, address);\n\nclass Test extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      friendsAddress: \"\"\n    };\n\n    this.onSubmit = async event => {\n      event.preventDefault();\n      const accounts = await web3.eth.getAccounts();\n      console.log(\"here\"); // const exchangeUniqueID = await profile.methods\n      // await profile.methods\n      //   .addFriendRequest(\"0x9668fde882D136BCBd549860a68a5e17fddD83d3\")\n      //   .send({ from: accounts[0], gas: 1000000 });\n\n      const answer = await profile.methods.getAllExchanges().call();\n      console.log(answer[0].exchangeDetails); // console.log(exchangeUniqueID);\n    };\n\n    this.onSubmitTest = async event => {\n      event.preventDefault();\n      const accounts = await web3.eth.getAccounts();\n      const friendsProfile = new web3.eth.Contract(profileAbi, this.state.friendsAddress);\n      await friendsProfile.methods.addFriendRequestNotRestricted(address).send({\n        from: accounts[0],\n        gas: 1000000\n      });\n      await profile.methods.addFriendRequest(this.state.friendsAddress).send({\n        from: accounts[0],\n        gas: 1000000\n      });\n      console.log(\"here passed requests\");\n      const exchanges = await friendsProfile.methods.getAllExchanges().call();\n      console.log(\"here got his exchange\");\n      const ourExchanges = await profile.methods.getAllExchanges().call();\n      console.log(\"here got our exchange\");\n      console.log(ourExchanges);\n      console.log(exchanges);\n    };\n\n    this.handleChange = event => {\n      event.preventDefault();\n      this.setState({\n        friendsAddress: event.target.value\n      });\n    };\n  }\n\n  async componentDidMount() {\n    // const manager = await lottery.methods.manager().call();\n    // const players = await lottery.methods.getPlayers().call();\n    // const balance = await web3.eth.getBalance(lottery.options.address);\n    let ethereum = window.ethereum;\n\n    if (typeof ethereum !== \"undefined\") {\n      await ethereum.enable();\n    } // this.setState({ manager, players, balance });\n\n  }\n\n  //   onSubmit = async (event) => {\n  //     event.preventDefault();\n  //     const accounts = await web3.eth.getAccounts();\n  //     this.setState({ message: \"Waiting on transaction success...\" });\n  //     await lottery.methods.enter().send({\n  //       from: accounts[0],\n  //       value: web3.utils.toWei(this.state.value, \"ether\"),\n  //     });\n  //     this.setState({ message: \"you have been entered!\" });\n  //   };\n  //   onClick = async () => {\n  //     const accounts = await web3.eth.getAccounts();\n  //     this.setState({ message: \"Waiting on transaction success...\" });\n  //     await lottery.methods.pickWinner().send({\n  //       from: accounts[0],\n  //     });\n  //     this.setState({ message: \"A winner has been picked!\" });\n  //   };\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"Lottery Contract\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 112,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 113,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"hr\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 119,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: this.onSubmit,\n        children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n          children: \"Want to try your luck?\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 122,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: /*#__PURE__*/_jsxDEV(\"label\", {\n            children: \"Amount of ether to enter\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 125,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 124,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          children: \"Enter\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 131,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 121,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"hr\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 133,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"h4\", {\n        children: \"Ready to pick a winner?\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 135,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"hr\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 138,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: this.onSubmitTest,\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          children: [\"Add friend address:\", /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            value: this.state.friendsAddress,\n            onChange: this.handleChange,\n            name: \"name\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 143,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 141,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"submit\",\n          value: \"Submit\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 150,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 140,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 111,\n      columnNumber: 7\n    }, this);\n  }\n\n}\n\nexport default Test;","map":{"version":3,"sources":["/home/omer/Desktop/final_project/Money-Transaction-Tracker/src/ethereum/App.js"],"names":["React","Component","web3","profileAbi","address","profile","eth","Contract","Test","state","friendsAddress","onSubmit","event","preventDefault","accounts","getAccounts","console","log","answer","methods","getAllExchanges","call","exchangeDetails","onSubmitTest","friendsProfile","addFriendRequestNotRestricted","send","from","gas","addFriendRequest","exchanges","ourExchanges","handleChange","setState","target","value","componentDidMount","ethereum","window","enable","render"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport \"./App.css\";\nimport web3 from \"./web3\";\nimport profileAbi from \"./profile\";\n\nconst address = \"0x42F443c1bb0F7386870E736193e8cdB5b5fA1a4D\";\n\nconst profile = new web3.eth.Contract(profileAbi, address);\n\nclass Test extends Component {\n  //   state = {\n  //     manager: \"\",\n  //     players: [],\n  //     balance: \"\",\n  //     value: \"\",\n  //     message: \"\",\n  //   };\n\n  state = {\n    friendsAddress: \"\",\n  };\n\n  async componentDidMount() {\n    // const manager = await lottery.methods.manager().call();\n    // const players = await lottery.methods.getPlayers().call();\n    // const balance = await web3.eth.getBalance(lottery.options.address);\n\n    let ethereum = window.ethereum;\n    if (typeof ethereum !== \"undefined\") {\n      await ethereum.enable();\n    }\n\n    // this.setState({ manager, players, balance });\n  }\n\n  onSubmit = async (event) => {\n    event.preventDefault();\n\n    const accounts = await web3.eth.getAccounts();\n\n    console.log(\"here\");\n    // const exchangeUniqueID = await profile.methods\n    // await profile.methods\n    //   .addFriendRequest(\"0x9668fde882D136BCBd549860a68a5e17fddD83d3\")\n    //   .send({ from: accounts[0], gas: 1000000 });\n    const answer = await profile.methods.getAllExchanges().call();\n\n    console.log(answer[0].exchangeDetails);\n    // console.log(exchangeUniqueID);\n  };\n\n  onSubmitTest = async (event) => {\n    event.preventDefault();\n\n    const accounts = await web3.eth.getAccounts();\n\n    const friendsProfile = new web3.eth.Contract(\n      profileAbi,\n      this.state.friendsAddress\n    );\n    await friendsProfile.methods\n      .addFriendRequestNotRestricted(address)\n      .send({ from: accounts[0], gas: 1000000 });\n\n    await profile.methods\n      .addFriendRequest(this.state.friendsAddress)\n      .send({ from: accounts[0], gas: 1000000 });\n\n    console.log(\"here passed requests\");\n    const exchanges = await friendsProfile.methods.getAllExchanges().call();\n    console.log(\"here got his exchange\");\n    const ourExchanges = await profile.methods.getAllExchanges().call();\n    console.log(\"here got our exchange\");\n    console.log(ourExchanges);\n    console.log(exchanges);\n  };\n\n  handleChange = (event) => {\n    event.preventDefault();\n    this.setState({ friendsAddress: event.target.value });\n  };\n  //   onSubmit = async (event) => {\n  //     event.preventDefault();\n\n  //     const accounts = await web3.eth.getAccounts();\n\n  //     this.setState({ message: \"Waiting on transaction success...\" });\n\n  //     await lottery.methods.enter().send({\n  //       from: accounts[0],\n  //       value: web3.utils.toWei(this.state.value, \"ether\"),\n  //     });\n\n  //     this.setState({ message: \"you have been entered!\" });\n  //   };\n\n  //   onClick = async () => {\n  //     const accounts = await web3.eth.getAccounts();\n\n  //     this.setState({ message: \"Waiting on transaction success...\" });\n\n  //     await lottery.methods.pickWinner().send({\n  //       from: accounts[0],\n  //     });\n\n  //     this.setState({ message: \"A winner has been picked!\" });\n  //   };\n\n  render() {\n    return (\n      <div>\n        <h2>Lottery Contract</h2>\n        <p>\n          {/* This contract is managed by {this.state.manager}. There are currently{\" \"}\n          {this.state.players.length} people entered, competing to win{\" \"}\n          {web3.utils.fromWei(this.state.balance, \"ether\")} ether. */}\n        </p>\n\n        <hr />\n\n        <form onSubmit={this.onSubmit}>\n          <h4>Want to try your luck?</h4>\n\n          <div>\n            <label>Amount of ether to enter</label>\n            {/* <input\n              value={this.state.value}\n              onChange={(event) => this.setState({ value: event.target.value })}\n            /> */}\n          </div>\n          <button>Enter</button>\n        </form>\n        <hr />\n\n        <h4>Ready to pick a winner?</h4>\n        {/* <button onClick={this.onClick}>Pick a winner!</button> */}\n\n        <hr />\n        {/* <h1>{this.state.message}</h1> */}\n        <form onSubmit={this.onSubmitTest}>\n          <label>\n            Add friend address:\n            <input\n              type=\"text\"\n              value={this.state.friendsAddress}\n              onChange={this.handleChange}\n              name=\"name\"\n            />\n          </label>\n          <input type=\"submit\" value=\"Submit\" />\n        </form>\n      </div>\n    );\n  }\n}\n\nexport default Test;\n"]},"metadata":{},"sourceType":"module"}